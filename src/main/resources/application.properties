# ============================================
# Tableau Lineage Sync Application Configuration
# Default Profile - Uses H2 In-Memory Database
# ============================================

# Server Configuration
server.port=8080

# ============================================
# Database Configuration - H2 (Default)
# ============================================
# File-based H2 database - data persists across application restarts
# Database files will be stored in ./data/ directory
spring.datasource.url=jdbc:h2:file:./data/tableaudb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# H2 Console (for development)
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console
spring.h2.console.settings.web-allow-others=false

# JPA/Hibernate Configuration
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.open-in-view=false

# ============================================
# Tableau API Configuration
# ============================================
# Tableau Server base URL (e.g., https://tableau.example.com)
tableau.base-url=${TABLEAU_BASE_URL:https://tableau.example.com}

# API Version (Tableau REST API version)
tableau.api-version=${TABLEAU_API_VERSION:3.17}

# Authentication Mode: PAT (Personal Access Token) or BASIC (username/password)
tableau.auth-mode=${TABLEAU_AUTH_MODE:PAT}

# Personal Access Token Configuration (if auth-mode=PAT)
tableau.pat.name=${TABLEAU_PAT_NAME:}
tableau.pat.secret=${TABLEAU_PAT_SECRET:}

# Username/Password Configuration (if auth-mode=BASIC)
tableau.username=${TABLEAU_USERNAME:}
tableau.password=${TABLEAU_PASSWORD:}

# Default Site Content URL (leave empty for Default site)
tableau.default-site-id=${TABLEAU_DEFAULT_SITE_ID:}

# ============================================
# OpenAPI/Swagger Configuration
# ============================================
springdoc.api-docs.enabled=true
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.tags-sorter=alpha
springdoc.swagger-ui.operations-sorter=alpha
springdoc.swagger-ui.doc-expansion=none

# ============================================
# Collibra API Configuration
# ============================================
# Collibra base URL (e.g., https://collibra.example.com)
collibra.base-url=${COLLIBRA_BASE_URL:}

# Collibra Authentication
collibra.username=${COLLIBRA_USERNAME:}
collibra.password=${COLLIBRA_PASSWORD:}

# Collibra Proxy Settings (optional)
collibra.proxy.enabled=${COLLIBRA_PROXY_ENABLED:false}
collibra.proxy.host=${COLLIBRA_PROXY_HOST:}
collibra.proxy.port=${COLLIBRA_PROXY_PORT:8080}
collibra.proxy.username=${COLLIBRA_PROXY_USERNAME:}
collibra.proxy.password=${COLLIBRA_PROXY_PASSWORD:}

# Collibra Community Name (shared for all Tableau assets)
collibra.community.name=${COLLIBRA_COMMUNITY_NAME:Tableau Technology}

# Collibra Domain Names (vary based on asset type)
collibra.domain.server=${COLLIBRA_DOMAIN_SERVER:Tableau Servers}
collibra.domain.site=${COLLIBRA_DOMAIN_SITE:Tableau Sites}
collibra.domain.project=${COLLIBRA_DOMAIN_PROJECT:Tableau Projects}
collibra.domain.workbook=${COLLIBRA_DOMAIN_WORKBOOK:Tableau Workbook}
collibra.domain.worksheet=${COLLIBRA_DOMAIN_WORKSHEET:Tableau Worksheet}
collibra.domain.datasource=${COLLIBRA_DOMAIN_DATASOURCE:Tableau Data Sources}
collibra.domain.reportattribute=${COLLIBRA_DOMAIN_REPORTATTRIBUTE:Tableau Report Attribute}

# Collibra Connection Timeouts
collibra.connection.timeout=${COLLIBRA_CONNECTION_TIMEOUT:30000}
collibra.read.timeout=${COLLIBRA_READ_TIMEOUT:60000}

# ============================================
# Logging Configuration
# ============================================
logging.level.root=INFO
logging.level.com.example.tableau=DEBUG
logging.level.org.springframework.web=INFO
logging.level.org.hibernate.SQL=WARN
logging.level.org.hibernate.type.descriptor.sql=WARN

# ============================================
# JSON Configuration
# ============================================
spring.jackson.serialization.indent_output=true
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.default-property-inclusion=non_null
